"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const alert_service_1 = require("../alert-service/alert-service");
class AppServiceProvider {
    constructor() {
        this.header = { "content-type": "application/x-www-form-urlencoded" };
        this.alertService = new alert_service_1.AlertServiceProvider();
    }
    get(url, params, callback, loading = false) {
        const that = this;
        if (loading) {
            that.alertService.showLoading("loading...");
        }
        Object.assign(params, { platform: this.getPalformNumber() });
        wx.request({
            url: that.getReqUrl(url),
            data: params,
            header: this.header,
            method: "GET",
            dataType: "json",
            responseType: "text",
            success(res) {
                that.successHandler(res, callback);
            },
            fail(res) {
                that.errorHandler(res);
            },
            complete() {
                loading && that.alertService.closeLoading();
            }
        });
    }
    post(url, params, callback, loading = false) {
        const that = this;
        params.platform = this.getPalformNumber();
        if (loading) {
            that.alertService.showLoading("loading...");
        }
        wx.request({
            url: that.getReqUrl(url),
            data: params,
            header: this.header,
            method: "POST",
            dataType: "json",
            responseType: "text",
            success(res) {
                that.successHandler(res, callback);
            },
            fail(res) {
                that.errorHandler(res);
            },
            complete() {
                loading && that.alertService.closeLoading();
            }
        });
    }
    getPalformNumber() {
        return 4;
    }
    getReqUrl(url) {
        if (url.indexOf("http://") == 0 || url.indexOf("https://") == 0) {
            return url;
        }
        return AppServiceProvider.BASE_DOMAIN_API + url;
    }
    checkLogin() {
        let token = "";
        if (token != "") {
            return true;
        }
        else {
            return false;
        }
    }
    getToken() {
        return "";
    }
    gotoLogin() { }
    push(url, json = {}) {
        let urlParams = Object.keys(json)
            .map(function (key) {
            return encodeURIComponent(key) + "=" + encodeURIComponent(json[key]);
        })
            .join("&");
        if (url.indexOf("?") == -1) {
            url += "?" + urlParams;
        }
        else {
            url += "&" + urlParams;
        }
        wx.navigateTo({
            url: url
        });
    }
    successHandler(res, callback) {
        if (res.data.code == 200) {
            callback && callback(res.data);
        }
        else {
            this.errorHandler(res);
        }
    }
    errorHandler(res) {
        console.log(res);
        this.alertService.alert("网络开小差");
    }
}
AppServiceProvider.BASE_DOMAIN = "https://www.qingyan.com55.cn/";
AppServiceProvider.BASE_API = "api/";
AppServiceProvider.BASE_DOMAIN_API = AppServiceProvider.BASE_DOMAIN + AppServiceProvider.BASE_API;
exports.AppServiceProvider = AppServiceProvider;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLXNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJhcHAtc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLGtFQUFzRTtBQUV0RSxNQUFhLGtCQUFrQjtJQUEvQjtRQU9XLFdBQU0sR0FBRyxFQUFFLGNBQWMsRUFBRSxtQ0FBbUMsRUFBRSxDQUFDO1FBRWpFLGlCQUFZLEdBQUcsSUFBSSxvQ0FBb0IsRUFBRSxDQUFDO0lBdUpyRCxDQUFDO0lBOUlVLEdBQUcsQ0FBQyxHQUFRLEVBQUUsTUFBVyxFQUFFLFFBQXlDLEVBQUUsVUFBbUIsS0FBSztRQUNqRyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUM7UUFDbEIsSUFBSSxPQUFPLEVBQUU7WUFDVCxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsQ0FBQztTQUMvQztRQUNELE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUM3RCxFQUFFLENBQUMsT0FBTyxDQUFDO1lBQ1AsR0FBRyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDO1lBQ3hCLElBQUksRUFBRSxNQUFNO1lBQ1osTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNO1lBQ25CLE1BQU0sRUFBRSxLQUFLO1lBQ2IsUUFBUSxFQUFFLE1BQU07WUFDaEIsWUFBWSxFQUFFLE1BQU07WUFDcEIsT0FBTyxDQUFDLEdBQVE7Z0JBQ1osSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDdkMsQ0FBQztZQUNELElBQUksQ0FBQyxHQUFRO2dCQUNULElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDM0IsQ0FBQztZQUNELFFBQVE7Z0JBQ0osT0FBTyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxFQUFFLENBQUM7WUFDaEQs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QyxHQUFRO1FBQ3pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDakIsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDckMsQ0FBQzs7QUE5SmEsOEJBQVcsR0FBVywrQkFBK0IsQ0FBQztBQUN0RCwyQkFBUSxHQUFXLE1BQU0sQ0FBQztBQUMxQixrQ0FBZSxHQUFHLGtCQUFrQixDQUFDLFdBQVcsR0FBRyxrQkFBa0IsQ0FBQyxRQUFRLENBQUM7QUFIakcsZ0RBZ0tDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWxlcnRTZXJ2aWNlUHJvdmlkZXIgfSBmcm9tIFwiLi4vYWxlcnQtc2VydmljZS9hbGVydC1zZXJ2aWNlXCI7XG5cbmV4cG9ydCBjbGFzcyBBcHBTZXJ2aWNlUHJvdmlkZXIge1xuICAgIHB1YmxpYyBzdGF0aWMgQkFTRV9ET01BSU46IHN0cmluZyA9IFwiaHR0cHM6Ly93d3cucWluZ3lhbi5jb201NS5jbi9cIjtcbiAgICBwdWJsaWMgc3RhdGljIEJBU0VfQVBJOiBzdHJpbmcgPSBcImFwaS9cIjtcbiAgICBwdWJsaWMgc3RhdGljIEJBU0VfRE9NQUlOX0FQSSA9IEFwcFNlcnZpY2VQcm92aWRlci5CQVNFX0RPTUFJTiArIEFwcFNlcnZpY2VQcm92aWRlci5CQVNFX0FQSTtcblxuICAgIC8vIHB1YmxpYyBoZWFkZXIgPSB7ICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfTtcblxuICAgIHB1YmxpYyBoZWFkZXIgPSB7IFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIgfTtcblxuICAgIHB1YmxpYyBhbGVydFNlcnZpY2UgPSBuZXcgQWxlcnRTZXJ2aWNlUHJvdmlkZXIoKTtcblxuICAgIC8vIGNvbnN0cnVjdG9yKHB1YmxpYyBhbGVydFNlcnZpY2U6IEFsZXJ0U2VydmljZVByb3ZpZGVyKXtcblxuICAgIC8vIH1cblxuICAgIC8qKlxuICAgICAqIOWPkei1t2dldOivt+axglxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQodXJsOiBhbnksIHBhcmFtczogYW55LCBjYWxsYmFjazogKHJlc3VsdDogSHR0cENvZGU8YW55PikgPT4gdm9pZCwgbG9hZGluZzogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzO1xuICAgICAgICBpZiAobG9hZGluZykge1xuICAgICAgICAgICAgdGhhdC5hbGVydFNlcnZpY2Uuc2hvd0xvYWRpbmcoXCJsb2FkaW5nLi4uXCIpO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5hc3NpZ24ocGFyYW1zLCB7IHBsYXRmb3JtOiB0aGlzLmdldFBhbGZvcm1OdW1iZXIoKSB9KTtcbiAgICAgICAgd3gucmVxdWVzdCh7XG4gICAgICAgICAgICB1cmw6IHRoYXQuZ2V0UmVxVXJsKHVybCksXG4gICAgICAgICAgICBkYXRhOiBwYXJhbXMsXG4gICAgICAgICAgICBoZWFkZXI6IHRoaXMuaGVhZGVyLFxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiBcInRleHRcIixcbiAgICAgICAgICAgIHN1Y2Nlc3MocmVzOiBhbnkpIHtcbiAgICAgICAgICAgICAgICB0aGF0LnN1Y2Nlc3NIYW5kbGVyKHJlcywgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZhaWwocmVzOiBhbnkpIHtcbiAgICAgICAgICAgICAgICB0aGF0LmVycm9ySGFuZGxlcihyZXMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBsZXRlKCkge1xuICAgICAgICAgICAgICAgIGxvYWRpbmcgJiYgdGhhdC5hbGVydFNlcnZpY2UuY2xvc2VMb2FkaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWPkei1t3Bvc3Tor7fmsYJcbiAgICAgKi9cbiAgICBwdWJsaWMgcG9zdCh1cmw6IGFueSwgcGFyYW1zOiBhbnksIGNhbGxiYWNrOiAocmVzdWx0OiBIdHRwQ29kZTxhbnk+KSA9PiB2b2lkLCBsb2FkaW5nOiBib29sZWFuID0gZmFsc2UpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdGhhdCA9IHRoaXM7XG4gICAgICAgIHBhcmFtcy5wbGF0Zm9ybSA9IHRoaXMuZ2V0UGFsZm9ybU51bWJlcigpO1xuICAgICAgICBpZiAobG9hZGluZykge1xuICAgICAgICAgICAgdGhhdC5hbGVydFNlcnZpY2Uuc2hvd0xvYWRpbmcoXCJsb2FkaW5nLi4uXCIpO1xuICAgICAgICB9XG4gICAgICAgIHd4LnJlcXVlc3Qoe1xuICAgICAgICAgICAgdXJsOiB0aGF0LmdldFJlcVVybCh1cmwpLFxuICAgICAgICAgICAgZGF0YTogcGFyYW1zLFxuICAgICAgICAgICAgaGVhZGVyOiB0aGlzLmhlYWRlcixcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICByZXNwb25zZVR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgc3VjY2VzcyhyZXM6IGFueSkge1xuICAgICAgICAgICAgICAgIHRoYXQuc3VjY2Vzc0hhbmRsZXIocmVzLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFpbChyZXM6IGFueSkge1xuICAgICAgICAgICAgICAgIHRoYXQuZXJyb3JIYW5kbGVyKHJlcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tcGxldGUoKSB7XG4gICAgICAgICAgICAgICAgbG9hZGluZyAmJiB0aGF0LmFsZXJ0U2VydmljZS5jbG9zZUxvYWRpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6I635Y+W5bmz5Y+w5qCH6K+GXG4gICAgICovXG4gICAgcHVibGljIGdldFBhbGZvcm1OdW1iZXIoKTogbnVtYmVyIHtcbiAgICAgICAgLy8gdHJ5IHtcbiAgICAgICAgLy8gICAgIGNvbnN0IHJlcyA9IHd4LmdldFN5c3RlbUluZm9TeW5jKClcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHJlcy5tb2RlbClcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHJlcy5waXhlbFJhdGlvKVxuICAgICAgICAvLyAgICAgY29uc29sZS5sb2cocmVzLndpbmRvd1dpZHRoKVxuICAgICAgICAvLyAgICAgY29uc29sZS5sb2cocmVzLndpbmRvd0hlaWdodClcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHJlcy5sYW5ndWFnZSlcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHJlcy52ZXJzaW9uKVxuICAgICAgICAvLyAgICAgY29uc29sZS5sb2cocmVzLnBsYXRmb3JtKVxuICAgICAgICAvLyB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vICAgICAvLyBEbyBzb21ldGhpbmcgd2hlbiBjYXRjaCBlcnJvclxuICAgICAgICAvLyB9XG4gICAgICAgIHJldHVybiA0O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRSZXFVcmwodXJsOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHVybC5pbmRleE9mKFwiaHR0cDovL1wiKSA9PSAwIHx8IHVybC5pbmRleE9mKFwiaHR0cHM6Ly9cIikgPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHVybDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQXBwU2VydmljZVByb3ZpZGVyLkJBU0VfRE9NQUlOX0FQSSArIHVybDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDpqozor4HnmbvlvZVcbiAgICAgKi9cbiAgICBwdWJsaWMgY2hlY2tMb2dpbigpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IHRva2VuID0gXCJcIjtcbiAgICAgICAgaWYgKHRva2VuICE9IFwiXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6I635Y+W55So5oi3dG9rZW5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VG9rZW4oKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOi3s+i9rOeZu+W9lVxuICAgICAqL1xuICAgIHB1YmxpYyBnb3RvTG9naW4oKSB7IH1cblxuICAgIC8qKlxuICAgICAqIOmhtemdoui3s+i9rFxuICAgICAqL1xuICAgIHB1YmxpYyBwdXNoKHVybDogc3RyaW5nLCBqc29uOiBhbnkgPSB7fSkge1xuICAgICAgICAvL2pzb27ovax1cmzlj4LmlbBcbiAgICAgICAgbGV0IHVybFBhcmFtcyA9IE9iamVjdC5rZXlzKGpzb24pXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudChqc29uW2tleV0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5qb2luKFwiJlwiKTtcbiAgICAgICAgaWYgKHVybC5pbmRleE9mKFwiP1wiKSA9PSAtMSkge1xuICAgICAgICAgICAgdXJsICs9IFwiP1wiICsgdXJsUGFyYW1zO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXJsICs9IFwiJlwiICsgdXJsUGFyYW1zO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHVybCk7XG4gICAgICAgIHd4Lm5hdmlnYXRlVG8oe1xuICAgICAgICAgICAgdXJsOiB1cmxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmVxdWVzdCBzdWNjZXNzIOWbnuiwg1xuICAgICAqL1xuICAgIHByaXZhdGUgc3VjY2Vzc0hhbmRsZXIocmVzOiBhbnksIGNhbGxiYWNrOiAocmVzdWx0OiBIdHRwQ29kZTxhbnk+KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDIwMCkge1xuICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2socmVzLmRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lcnJvckhhbmRsZXIocmVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJlcXVlc3QgZmFpbCDmiJYgc3VjY2Vzc+aXtiBjb2RlICE9IDIwMCDml7Yg5Zue6LCDXG4gICAgICovXG4gICAgcHJpdmF0ZSBlcnJvckhhbmRsZXIocmVzOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuYWxlcnQoXCLnvZHnu5zlvIDlsI/lt65cIik7XG4gICAgfVxufVxuXG4vKipcbiAqIOi/lOWbnueggVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEh0dHBDb2RlPFQ+IHtcbiAgICBjb2RlOiBzdHJpbmc7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgICBkYXRhPzogVDtcbiAgICBzdWNjZXNzPzogYm9vbGVhbjtcbn1cbiJdfQ==